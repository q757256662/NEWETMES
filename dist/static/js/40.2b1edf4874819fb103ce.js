webpackJsonp([40],{"+Xth":function(e,t,a){"use strict";a("Vo7i")},"1+Eu":function(e,t,a){function i(e){a("45i0")}var o=a("VU/8")(a("Ug37"),a("c0BH"),i,"data-v-6aba0a02",null);e.exports=o.exports},"1xkR":function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".upload-demo[data-v-6aba0a02]{display:inline-block}a[data-v-6aba0a02]:active,a[data-v-6aba0a02]:hover,a[data-v-6aba0a02]:link,a[data-v-6aba0a02]:visited{color:#20a0ff}.popperClass[data-v-6aba0a02]{border:1px solid red}.calendar-list-container[data-v-6aba0a02]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}",""])},"45i0":function(e,t,a){var i=a("1xkR");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("75b6e6f8",i,!0)},"5ORu":function(e,t,a){"use strict";function i(e){return a.i(o.a)({url:"/ETDispatchApi/details",method:"get",params:e})}t.a=i;var o=a("Vo7i")},GtG4:function(e,t,a){"use strict";function i(e){return a.i(u.a)({url:"/bmapi/import",method:"get",params:e})}function o(e){return a.i(u.a)({url:"/bmapi/import/importstyle",method:"post",data:e})}function l(e){return a.i(u.a)({url:"/bmapi/import/"+e,method:"get"})}function n(e){return a.i(u.a)({url:"/bmapi/import/"+e,method:"delete"})}function r(e){return a.i(u.a)({url:"/bmapi/staffmanager?upUser",method:"put",data:e})}function s(e){return a.i(u.a)({url:"/bmapi/pl",method:"get",params:e})}function d(e){return a.i(u.a)({url:"/bmapi/uploadstyle",method:"post",data:e})}t.b=i,t.e=o,t.c=l,t.d=n,t.f=r,t.a=s,t.g=d;var u=a("Vo7i")},Ug37:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("Dd8w"),o=a.n(i),l=a("GtG4"),n=(a("+Xth"),a("5ORu")),r=a("NYxO"),s=a("TIfe"),d=a("lbHh"),u=a.n(d),p=a("TG9w");t.default={name:"user",data:function(){return{visible2:!0,form:{UserName:void 0,Phone:void 0,State:1,Up:void 0,Down:0,MAC:void 0,Remark:void 0},categoriesOption:[],IP:"http://LBWIN7",options:[{value:0,label:"否"},{value:1,label:"是"}],SaveModeloptions:[{value:0,label:"普通"},{value:1,label:"加法"},{value:-1,label:"减法"}],rules:{name:[{required:!0,message:"请输入用户",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],UserName:[{required:!0,message:"请输入账户",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:5,max:20,message:"长度在 5 到 20 个字符",trigger:"blur"}]},list:null,total:null,listLoading:!0,listQuery:{page:1,limit:10,QueryType:"0",SaveModel:"0",query:""},detailQuery:{Id:null},downloadQuery:{model:"",type:"",brand:"",sex:"男",uploadWay:"singleStyle"},upLoadQuery:{},sexOptions:["男","女"],uploadWayOptions:[{value:"singleStyle",label:"单款"},{value:"moreStyle",label:"多款"}],dialogFormVisible:!1,formPhone:"",dialogStatus:"",userManager_btn_edit:!0,userManager_btn_del:!0,userManager_btn_add:!0,value6:"",value7:"",textMap:{update:"文件详情",create:"创建"},formLabelWidth:"100px",token:u.a.get("ETDispatch-Token"),tableKey:0,fileList:[],header:{},updata:{model:"",type:"",brand:"",sex:"男"},loading:!1,pingleiId:"",uploadWay:"singleStyle"}},created:function(){this.getTypePl(),this.userManager_btn_edit=this.elements["userManager:btn_edit"],this.userManager_btn_del=this.elements["userManager:btn_del"],this.userManager_btn_add=this.elements["userManager:btn_add"]},computed:o()({},a.i(r.b)(["elements"])),methods:{getList:function(){var e=this;this.listLoading=!0,a.i(l.b)(this.listQuery).then(function(t){e.list=t.data.rows,e.total=t.data.total,e.listLoading=!1})},getTypePl:function(){var e=this;a.i(l.a)().then(function(t){e.pingleiId=t.data.rows[0].id,0==t.data.rows[0].type?e.downloadQuery.model=1:e.downloadQuery.model=0})},changeUploadWay:function(e){this.downloadQuery.uploadWay=e},submitUpload:function(){},handleRemove:function(e,t){},beforeAvatarUpload:function(e){var t=e.name.lastIndexOf("."),a=e.name.length,i=e.name.substring(t+1,a),o=i;if(("zip"==o||"prj"==o)&&!this.downloadQuery.type)return this.downloadQuery.type?this.$message({message:"上传文件只能是 ZIP或者PRJ文件格式!",type:"warning",duration:2e3}):this.$message({message:"请选择品类！",type:"warning",duration:2e3}),!1;this.loading=!0},handleChangeFile:function(e,t){this.header.Authorization="Bearer "+a.i(s.a)();var i=e.name.lastIndexOf("."),o=e.name.length,l=e.name.substring(i+1,o),n=l;this.downloadQuery.type;"prj"==n&&(this.downloadQuery.uploadWay="prj")},handlePreview:function(e){},successUpload:function(e,t){e.Success?(this.$message({message:e.ErrMes,type:"success",duration:2e3}),this.uploadWay="singleStyle"):this.$message({message:e.ErrMes,type:"warning",duration:2e3}),this.loading=!1},errorUpload:function(e,t,a){this.$message({message:e.ErrMes,type:"warning"}),this.loading=!1},indexMethod:function(e){return 1*e},dateFormat:function(e,t){var a=e[t.property];return parseInt(a)+a.substr(a.length-2,a.length)},selectCategort:function(){var e=this,t={};t.PLID=this.pingleiId,a.i(p.h)(t).then(function(t){200==t.status&&(e.categoriesOption=t.data.rows)})},handleFilter:function(){""==this.downloadQuery.type&&this.$message({message:"请选择品类！",type:"warning"})},handleStyleUp:function(){var e=this;""==this.downloadQuery.type?this.$message({message:"请选择品类！",type:"warning"}):a.i(l.g)(this.downloadQuery).then(function(t){200===t.status?(e.$message({offset:700,title:"成功",message:t.tip,type:"success",duration:2e3}),e.handleFilter(),e.resetTemp()):(e.$message({offset:700,message:t.tip,type:"warning",duration:2e3}),e.resetTemp())})},handleSizeChange:function(e){this.listQuery.limit=e,this.getList()},handleCurrentChange:function(e){this.listQuery.page=e,this.getList()},handleCreate:function(){this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0},handleEdit:function(e,t){var i=this;this.detailQuery.Id=t.Id,a.i(n.a)(this.detailQuery).then(function(e){i.form=e.data.rows,i.dialogFormVisible=!0})},handleUpdate:function(e){var t=this;a.i(l.c)(e.id).then(function(e){t.form=e.data,t.dialogFormVisible=!0,t.dialogStatus="update"})},handleDelete:function(e){var t=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.i(l.d)(e.id).then(function(){t.$message({offset:700,title:"成功",message:"删除成功",type:"success",duration:2e3});var a=t.list.indexOf(e);t.list.splice(a,1)})})},create:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;a.i(l.e)(t.form).then(function(){t.dialogFormVisible=!1,t.getList(),t.$message({offset:700,title:"成功",message:"创建成功",type:"success",duration:2e3})})})},cancel:function(e){this.dialogFormVisible=!1,this.$refs[e].resetFields()},update:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.dialogFormVisible=!1,t.form.password=void 0,a.i(l.f)(t.form).then(function(){t.dialogFormVisible=!1,t.getList(),t.$message({offset:700,title:"成功",message:"更新成功",type:"success",duration:2e3})})})},resetTemp:function(){this.form={UserName:void 0,Phone:void 0,State:1,Up:void 0,Down:0,MAC:void 0,Remark:void 0},this.downloadQuery={model:"",type:"",brand:"",sex:"男",uploadWay:"singleStyle"}}}}},c0BH:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container calendar-list-container"},[e._v("\n  可驱动：\n  "),a("el-select",{staticStyle:{width:"70px"},attrs:{placeholder:"请选择"},model:{value:e.downloadQuery.model,callback:function(t){e.$set(e.downloadQuery,"model",t)},expression:"downloadQuery['model']"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-select",{attrs:{placeholder:"请选择品类"},on:{"visible-change":e.selectCategort},model:{value:e.downloadQuery.type,callback:function(t){e.$set(e.downloadQuery,"type",t)},expression:"downloadQuery['type']"}},e._l(e.categoriesOption,function(e){return a("el-option",{key:e.Id,attrs:{label:e.CategoryName,value:e.CategoryName}})})),e._v(" "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请输入品牌"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13))return null;e.handleFilter(t)}},model:{value:e.downloadQuery.brand,callback:function(t){e.$set(e.downloadQuery,"brand",t)},expression:"downloadQuery['brand']"}}),e._v(" "),a("el-select",{staticStyle:{width:"80px"},attrs:{placeholder:"请选择性别"},model:{value:e.downloadQuery.sex,callback:function(t){e.$set(e.downloadQuery,"sex",t)},expression:"downloadQuery['sex']"}},e._l(e.sexOptions,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),e._v(" "),a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择上传方式"},on:{change:e.changeUploadWay},model:{value:e.uploadWay,callback:function(t){e.uploadWay=t},expression:"uploadWay"}},e._l(e.uploadWayOptions,function(e){return a("el-option",{key:e.key,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-upload",{ref:"upload",staticClass:"upload-demo",staticStyle:{block:"inline-block"},attrs:{action:"/bmapi/styleimport/upload",headers:e.header,"on-preview":e.handlePreview,"show-file-list":!1,data:e.downloadQuery,"on-remove":e.handleRemove,"on-success":e.successUpload,"on-error":e.errorUpload,"before-upload":e.beforeAvatarUpload,"on-change":e.handleChangeFile,multiple:!1,"auto-upload":!0,accept:".zip,.prj"}},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",loading:e.loading},on:{click:e.submitUpload}},[e._v("上  传")])],1),e._v(" "),a("el-popover",{ref:"popover1",attrs:{placement:"top",trigger:"hover"}},[a("strong",[e._v("如何导入款式/样式：")]),a("br"),e._v(" "),e._v("\n    1.填写款式信息。"),a("br"),e._v("\n    2.点击上传选择文件,上传文件必须为ZIP的压缩文件或者单个prj文件。 "),a("br"),e._v(" \n    3.可以以prj文件直接压缩或者以文件夹形式压缩。"),a("br"),e._v("\n     4.压缩包中不能含有压缩文件。\n   "),a("br"),e._v("\n      单款上传：单个款式的所有prj文件压缩上传。"),a("br"),e._v("\n      多款上传：多个prj文件压缩上传。"),a("br"),e._v(" "),a("strong",[e._v("备 注：")]),a("br"),e._v("\n    单个prj文件上传时，默认为单款上传。"),a("br"),e._v("\n   多款上传时一个prj文件对应一个款式，建议以款名命名prj文件名，"),a("br"),e._v("\n   单款上传时以zip文件名作为款名。\n  ")]),e._v(" "),a("img",{directives:[{name:"popover",rawName:"v-popover:popover1",arg:"popover1"}],staticStyle:{opacity:"0.5",width:"17px","margin-left":"20px"},attrs:{src:"static/img/icon_help.png",alt:"",srcset:""}}),e._v(" "),a("div",{staticClass:"filter-container"}),e._v(" "),a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"文件详情",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",attrs:{size:"mini",model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"文件名：","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",readonly:!0},model:{value:e.form.FileName,callback:function(t){e.$set(e.form,"FileName",t)},expression:"form['FileName']"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上传公司：","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",readonly:!0},model:{value:e.form.CompanyName,callback:function(t){e.$set(e.form,"CompanyName",t)},expression:"form['CompanyName']"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上传人：","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",readonly:!0},model:{value:e.form.Uploader,callback:function(t){e.$set(e.form,"Uploader",t)},expression:"form['Uploader']"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"文件接收人：","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",readonly:!0},model:{value:e.form.ToUser,callback:function(t){e.$set(e.form,"ToUser",t)},expression:"form['ToUser']"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"文件权限：","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",readonly:!0},model:{value:e.form.CanOpener,callback:function(t){e.$set(e.form,"CanOpener",t)},expression:"form['CanOpener']"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"文件大小：","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",readonly:!0},model:{value:e.form.FileSize,callback:function(t){e.$set(e.form,"FileSize",t)},expression:"form['FileSize']"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上传时间：","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",readonly:!0},model:{value:e.form.Time,callback:function(t){e.$set(e.form,"Time",t)},expression:"form['Time']"}})],1)],1)],1)],1)},staticRenderFns:[]}}});