webpackJsonp([25],{"/Jry":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{"margin-bottom":"20px"}},[t._v(" \n年：\n"),a("el-select",{attrs:{placeholder:"请选择年份"},on:{change:t.changeTime},model:{value:t.year1,callback:function(e){t.year1=e},expression:"year1"}},t._l(t.option,function(t){return a("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})})),t._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"search"},on:{click:t.updateClick}},[t._v("搜索")])],1),t._v(" "),a("el-table",{attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"Msg1",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"SumModel",label:"样板数",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"SumOrder",label:"生产单数",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"SumNumber",label:"件数",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"SumBed",label:"床数",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"SumLen",label:"铺布总长度",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"SumPod",label:"特体Pod数",align:"center"}})],1),t._v(" "),a("el-table",{attrs:{data:t.tableData,"show-header":!1,border:""}},[a("el-table-column",{attrs:{prop:"Msg2",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"AvgModel",label:"AvgModel",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(null!=e.row.AvgModel?parseFloat(e.row.AvgModel).toFixed(2):"")+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"AvgOrder",label:"AvgOrder",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(null!=e.row.AvgOrder?parseFloat(e.row.AvgOrder).toFixed(2):"")+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"AvgNumber",label:"AvgNumber",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(null!=e.row.AvgNumber?parseFloat(e.row.AvgNumber).toFixed(2):"")+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"AvgBed",label:"AvgBed",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(null!=e.row.AvgBed?parseFloat(e.row.AvgBed).toFixed(2):"")+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"AvgLen",label:"AvgLen",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(null!=e.row.AvgLen?parseFloat(e.row.AvgLen).toFixed(2):"")+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"AvgPod",label:"AvgPod",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(null!=e.row.AvgPod?parseFloat(e.row.AvgPod).toFixed(2):"")+"\n        ")]}}])})],1),t._v(" "),a("div",{staticClass:"chart",attrs:{id:"chart"}})],1)},staticRenderFns:[]}},ArvL:function(t,e,a){var r=a("zdHv");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a("rjj0")("6ec14b5d",r,!0)},Clip:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"components-container",staticStyle:{height:"100vh"}},[a("div",{staticClass:"chart-container"},[a("mix-chart",{attrs:{height:"100%",width:"100%"}})],1)])},staticRenderFns:[]}},P2bu:function(t,e,a){function r(t){a("ArvL")}var n=a("VU/8")(a("motZ"),a("Clip"),r,"data-v-5905278a",null);t.exports=n.exports},i0C3:function(t,e,a){var r=a("kGrp");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a("rjj0")("0d83d9d6",r,!0)},icXg:function(t,e,a){"use strict";function r(t){return a.i(l.a)({url:"/bmapi/PastYearStatistics",method:"get",params:t})}function n(t){return a.i(l.a)({url:"/bmapi/PastYearStatisticsTable",method:"get",params:t})}e.b=r,e.a=n;var l=a("Vo7i")},jr8q:function(t,e,a){function r(t){a("i0C3")}var n=a("VU/8")(a("uBzP"),a("/Jry"),r,null,null);t.exports=n.exports},kGrp:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".chart{width:1200px;height:600px}",""])},motZ:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("jr8q"),n=a.n(r);e.default={components:{mixChart:n.a}}},uBzP:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("XLwt"),n=a.n(r),l=a("icXg");e.default={props:{className:{type:String,default:"chart"},id:{type:String,default:"chart"}},data:function(){return{tableData:null,chart:null,legend:[],year1:(new Date).getFullYear(),xAxis:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],yAxis:[],listQuery:{year:(new Date).getFullYear(),PLID:"",random:Math.random()},series:[],option:[]}},created:function(){this.setYear((new Date).getFullYear()),this.listQuery.PLID=this.$store.state.user.PLID},mounted:function(){var t=this;this.updateStatic(),a.i(l.a)(this.listQuery).then(function(e){t.tableData=e.data.rows,t.tableData[0].Msg1="总数",t.tableData[0].Msg2="平均"})},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{updateStatic:function(){var t=this;a.i(l.b)(this.listQuery).then(function(e){var a=[],r=[];200==e.status?(t.legend=e.data.legend,a=e.data.series,a.forEach(function(t){var e={};e.type="line",e.name=t.CompanyName,e.data=t.Data,r.push(e)}),t.series=r,t.initChart()):(t.legend=[],t.series=[],t.chart.dispose())})},setYear:function(t){for(var e=0;e<10;e++){var a={};a.value=t-e,a.label=t-e,this.option.push(a)}},changeTime:function(t){var e=this;this.listQuery.year=t,void 0!==this.listQuery.year?(a.i(l.a)(this.listQuery).then(function(t){e.tableData=t.data.rows,e.tableData[0].Msg1="总数",e.tableData[0].Msg2="平均"}),this.updateStatic()):(this.$message({type:"error",message:"请输入年份",offset:700}),this.chart.dispose())},updateClick:function(){this.updateStatic()},initChart:function(){this.chart=n.a.init(document.getElementById(this.id)),this.chart.setOption({tooltip:{trigger:"axis"},legend:{data:this.legend},toolbox:{show:!0,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar","stack","tiled"]},restore:{show:!0},saveAsImage:{show:!0}}},calculable:!0,xAxis:[{type:"category",boundaryGap:!1,data:this.xAxis}],yAxis:[{type:"value"}],dataZoom:[{type:"slider",start:0,end:100}],series:this.series})}}}},zdHv:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".chart-container[data-v-5905278a]{position:relative;width:100%;height:90%;padding-bottom:40px}",""])}});