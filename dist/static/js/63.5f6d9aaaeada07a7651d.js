webpackJsonp([63],{"18fe":function(e,t,i){"use strict";function a(e){return i.i(f.a)({url:"/bmapi/pl",method:"get",params:e})}function n(e){return i.i(f.a)({url:"/bmapi/pl",method:"post",data:e})}function s(e){return i.i(f.a)({url:"/bmapi/process?id="+e,method:"get"})}function r(e){return i.i(f.a)({url:"/bmapi/staffmanager/"+e,method:"delete"})}function l(e){return i.i(f.a)({url:"/bmapi/pl",method:"put",data:e})}function o(e){return i.i(f.a)({url:"/bmapi/pl/setplforuser",method:"post",data:e})}function u(e){return i.i(f.a)({url:"/bmapi/UpdateWeight",method:"post",data:e})}function d(e){return i.i(f.a)({url:"/bmapi/UpdatePlName",method:"post",data:e})}function c(e){return i.i(f.a)({url:"/bmapi/pl/updateprocess",method:"post",data:e})}t.a=a,t.e=n,t.c=s,t.d=r,t.b=l,t.i=o,t.f=u,t.g=d,t.h=c;var f=i("Vo7i")},"6Vqe":function(e,t,i){var a=i("VU/8")(i("lKU2"),i("OTzP"),null,null,null);e.exports=a.exports},E4LH:function(e,t,i){"use strict";function a(e){return/^1[3|4|5|7|8][0-9]\d{8}$/.test(e)}t.a=a},OTzP:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container calendar-list-container"},[i("div",{staticClass:"filter-container"}),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{prop:"name",width:"317px",align:"center",label:"工序名称"}}),e._v(" "),i("el-table-column",{attrs:{"class-name":"status-col",label:"是否跳过",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-switch",{attrs:{"on-value":1,"off-value":0,"on-color":"#13ce66","off-color":"#ff4949","on-text":"是","off-text":"否"},on:{change:function(i){e.change(t.row)}},model:{value:t.row.isUse,callback:function(e){t.row.isUse=e},expression:"scope.row.isUse"}})]}}])}),e._v(" "),i("el-table-column",{attrs:{"class-name":"status-col",label:"约束条件",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-switch",{attrs:{"on-value":1,"off-value":0,"on-color":"#13ce66","off-color":"#ff4949","on-text":"是","off-text":"否"},on:{change:function(i){e.change(t.row)}},model:{value:t.row.assing,callback:function(e){t.row.assing=e},expression:"scope.row.assing"}})]}}])})],1)],1)},staticRenderFns:[]}},lKU2:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("Dd8w"),n=i.n(a),s=i("18fe"),r=i("NYxO"),l=i("E4LH"),o=function(e,t,a){t?i.i(l.a)(t)?a():a(new Error("请输入正确的11位手机号码")):a(new Error("请输入电话号码"))};t.default={name:"user",data:function(){return{value:0,dialogif:null,dialogtitleProcess:"修改流水线",options1:[{value:"A",label:"成衣改版",children:[{value:"11",label:"下载样板"},{value:"13",label:"修改样板"},{value:"15",label:"放码"},{value:"16",label:"检查尺寸"},{value:"18",label:"估算用量"}]},{value:"B",label:"团订改版",children:[{value:"22",label:"下载样板"},{value:"23",label:"修改样板"},{value:"25",label:"放码"},{value:"26",label:"检查尺寸"},{value:"27",label:"改驱动规则"}]}],selectedOptions3:["A","11"],options:[{value:0,label:"团订"},{value:1,label:"成衣"}],form:{UserName:void 0,Phone:void 0,State:1,Up:void 0,Down:0,MAC:void 0,Remark:""},rules:{name:[{required:!0,message:"请输入",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],UserName:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 20 个字符",trigger:"blur"}],Phone:[{required:!0,validator:o,message:"请输入手机号",trigger:"blur"},{min:11,max:11,message:"长度在11个字符",trigger:"blur"}]},list:null,list1:null,total:null,listLoading:!0,listQuery:{page:1,limit:15,name:void 0},sexOptions:["男","女"],dialogFormVisible:!1,formPhone:"",dialogStatus:"",userManager_btn_edit:!0,userManager_btn_del:!0,userManager_btn_add:!0,textMap:{update:"编辑",create:"创建"},formLabelWidth:"80px",tableKey:0}},created:function(){this.getList(),this.userManager_btn_edit=this.elements["userManager:btn_edit"],this.userManager_btn_del=this.elements["userManager:btn_del"],this.userManager_btn_add=this.elements["userManager:btn_add"]},computed:n()({},i.i(r.b)(["elements"])),methods:{getList:function(){var e=this;this.listLoading=!0,i.i(s.c)("1").then(function(t){e.list=t.data.rows,e.total=t.data.total,e.listLoading=!1})},change:function(e){var t=this;i.i(s.b)(e).then(function(e){200===e.status?(t.dialogFormVisible=!1,t.$message({message:e.tip,type:"success",duration:2e3})):t.$message({message:e.error,type:"warning",duration:2e3})})},handleFilter:function(){this.getList()},handleSizeChange:function(e){this.listQuery.limit=e,this.getList()},handleCurrentChange:function(e){this.listQuery.page=e,this.getList()},handleCreate:function(){this.resetTemp(),this.dialogStatus="create",this.dialogif="updatePL",this.dialogFormVisible=!0},handleEdit:function(e,t){this.form=this.list[e],this.currentIndex=e,this.dialogStatus="update",this.dialogif="updatePL",this.dialogFormVisible=!0},handleEdit1:function(e,t){var a=this;i.i(s.c)(t.id).then(function(e){a.list1=e.data.rows}),this.dialogtitleProcess="修改 "+t.name+" 流水线的工序",this.form=this.list[e],this.currentIndex=e,this.dialogFormVisible=!0,this.dialogif="updateProcess"},handleUpdate:function(e){var t=this;i.i(s.c)(e.id).then(function(e){t.form=e.data,t.dialogFormVisible=!0,t.dialogStatus="update"})},handleDelete:function(e){var t=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.i(s.d)(e.id).then(function(i){t.$message({message:i.tip,type:"success",duration:2e3});var a=t.list.indexOf(e);t.list.splice(a,1)})})},create:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;i.i(s.e)(t.form).then(function(e){t.dialogFormVisible=!1,t.getList(),t.$message({message:e.tip,type:"success",duration:2e3})})})},cancel:function(e){this.dialogFormVisible=!1},update:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.dialogFormVisible=!1,t.form.password=void 0,i.i(s.b)(t.form).then(function(e){200===e.status?(t.dialogFormVisible=!1,t.$message({message:e.tip,type:"success",duration:2e3})):t.$message({message:e.error,type:"warning",duration:2e3})})})},resetTemp:function(){this.form={UserName:void 0,Phone:void 0,State:1,Up:void 0,Down:0,MAC:void 0,Remark:void 0}}}}}});